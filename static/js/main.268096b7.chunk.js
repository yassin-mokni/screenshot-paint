(this["webpackJsonpscreenshot-my-draw"]=this["webpackJsonpscreenshot-my-draw"]||[]).push([[0],{15:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var o=t(1),i=t.n(o),s=t(5),a=t.n(s),c=(t(15),t(6)),u=t(7),r=t(2),l=t(10),h=t(9),d=t(0);var p=function(e){var n="M "+e.line.map((function(e){return"".concat(e.get("x")," ").concat(e.get("y"))})).join(" L ");return Object(d.jsx)("path",{className:"path",d:n})};var b=function(e){var n=e.lines;return Object(d.jsx)("svg",{className:"painting",children:n.map((function(e,n){return Object(d.jsx)(p,{line:e},n)}))})},v=t(3),f=t(8),j=t.n(f),m=function(e){Object(l.a)(t,e);var n=Object(h.a)(t);function t(){var e;return Object(c.a)(this,t),(e=n.call(this)).paintZone=i.a.createRef(),e.state={lines:new v.a,isPainting:!1},e.screenshot=e.screenshot.bind(Object(r.a)(e)),e.handleMouseUp=e.handleMouseUp.bind(Object(r.a)(e)),e.handleMouseDown=e.handleMouseDown.bind(Object(r.a)(e)),e.handleMouseMove=e.handleMouseMove.bind(Object(r.a)(e)),e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"screenshot",value:function(){j()(document.querySelector("#paint"),{useCORS:!0}).then((function(e){console.log(e.toDataURL()),document.body.appendChild(e),document.getElementById("hint").style.display="block"}))}},{key:"handleMouseUp",value:function(){this.setState({isPainting:!1})}},{key:"handleMouseDown",value:function(e){if(0===e.button){var n=this.pointCoordinates(e);this.setState((function(e){return{lines:e.lines.push(new v.a([n])),isPainting:!0}}))}}},{key:"handleMouseMove",value:function(e){if(this.state.isPainting){var n=this.pointCoordinates(e);this.setState((function(e){return{lines:e.lines.updateIn([e.lines.size-1],(function(e){return e.push(n)}))}}))}}},{key:"pointCoordinates",value:function(e){var n=this.paintZone.current.getBoundingClientRect();return new v.b({x:e.clientX-n.left,y:e.clientY-n.top})}},{key:"render",value:function(){return Object(d.jsxs)("div",{id:"paint",className:"paintZone",ref:this.paintZone,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,children:[Object(d.jsx)(b,{lines:this.state.lines}),Object(d.jsx)("button",{className:"button",onClick:this.screenshot,children:"Screenshot"}),Object(d.jsx)("p",{id:"hint",style:{display:"none"},children:"Check the console to get the base64 encoded data URL"})]})}}]),t}(i.a.Component),M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,18)).then((function(n){var t=n.getCLS,o=n.getFID,i=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),o(e),i(e),s(e),a(e)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),M()}},[[17,1,2]]]);
//# sourceMappingURL=main.268096b7.chunk.js.map